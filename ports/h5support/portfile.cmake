vcpkg_from_github(
  OUT_SOURCE_PATH SOURCE_PATH
  REPO bluequartzsoftware/h5support
  REF v1.0.12
  SHA512 864afbf055a6c6e1390e6d5e0645b059b22c0445b91abce536c486f63b9f3cfee62f496f666b51fbc2b2e493f0d7835bb2a2444089e3a218502c0042725525e9
  HEAD_REF develop
)

vcpkg_configure_cmake(
  SOURCE_PATH "${SOURCE_PATH}"
  OPTIONS
    -DH5Support_INCLUDE_QT_API=OFF
    -DH5Support_INSTALL_HDF5=OFF
    -DH5Support_INSTALL_QT5=OFF
    -DCMP_HDF5_ENABLE_COPY=OFF
    -DCMP_HDF5_ENABLE_CXX=OFF
    -DCMP_HDF5_ENABLE_INSTALL=OFF
    -DH5Support_BUILD_TESTING=OFF
    -DH5Support_CMAKE_CONFIG_INSTALL_DIR=share/${PORT}
    -DH5Support_SKIP_INSTALL_FILES=OFF
    -DHDF5_STATUS_PRINTED=ON
  MAYBE_UNUSED_VARIABLES
    CMP_HDF5_ENABLE_COPY
    CMP_HDF5_ENABLE_INSTALL
)

vcpkg_install_cmake()

vcpkg_fixup_cmake_targets()

file(REMOVE_RECURSE "${CURRENT_PACKAGES_DIR}/debug")
